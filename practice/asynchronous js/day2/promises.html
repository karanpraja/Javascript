<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let stock={//in case of functions we can't do it 
            Fruits:["grapes","apple","Mango","orange"],
            Liquid:["ice","water"],
            Holder:["cup","glass"],
            Toppings:["peanut","chocolate"],
        }
//       let is_the_shop_open=false;
//      let factory=(time,work)=>{
//         return new Promise((resolve,reject)=>{
//             if(is_the_shop_open){ 
//     setTimeout(()=>{
//         resolve(work())
//     },time);
// }
// else
// {
//     reject(console.log("the shop is closed"));
// }

// });
//      };
//       factory(2000,()=>console.log(`We will make ${stock.Fruits[1]} icecream`))
//       .then(()=>{
//         return factory(1000,()=>console.log("Production has started"));
//       })
//       .then(()=>{
// return factory(1000,()=>console.log("The fruit is chopped"));
//       })
//       .then(()=>{
//         return factory(1000,()=>console.log(`${stock.Liquid[1]} is added.`))
//       })
//       .then(()=>{
//         return factory(1000,()=>console.log(`${stock.Liquid[1]} mixing is started!!`))
//       })
//    .then(()=>{
//     return factory(1000,()=>console.log(`Ice cream is put in ${stock.Holder[0]}`))
//    })
//    .then(()=>{
//     return factory(1000,()=>console.log(`For topping we have added ${stock.Toppings[0]}`))
//    })//if we are connecting then's then no semicolons are allowed!!
//    .then(()=>{
//     return factory(1000,()=>console.log("The icecream is ready to serve!!"))
//    })
//    .catch(()=>{
//     console.log("We can't serve icecream!!")
//    })//do not put semicolon here otherwise it will not gonna work!!
//    .finally(()=>{
// console.log("Day ended!, the shop is now closed!!")
//    })

//    async function order(){
//     try{
//         await abc
//     }catch(error){
//         console.log("abc doen't exists",error)
//     }finally{
// console.log("The shop is closed")
//     }
//    }
//    order()
//    .then(()=>{
// console.log("It is just random!!")
//    })
      

// let toppings_choice=()=>{
//     return new Promise((resolve,reject)=>{//do not make the mistake of not keep p of promise capital!!
//         setTimeout(()=>{
//             resolve(console.log(`Which toppings do you like?`));
//         },3000);
//     });
// };
    
// async function kitchen(){//async and await both are brothers
//     console.log("Doing dishes")
//     console.log("Cleaning table")
//     console.log("making soup")
//     await toppings_choice(),
//     console.log("Taking with chef")
//     console.log("Got new order!!")
// }
// kitchen();
// console.log("We are outside kitchen!");
// console.log("New customers have arrived!!");
var is_the_shop_open=true;
let time=((ms)=>{
return new Promise((resolve,reject)=>{
    if(is_the_shop_open)
    {
        setTimeout(resolve(),ms)
    }
    else
    {
        reject(console.log("The shop is closed"))
    }
})
});
async function kitchen() {//async will come before function
    try{
    await time(1000)
    console.log(`${stock.Fruits[0]} is selected!!` )
    await time(1000)
    console.log(`${stock.Fruits[0]} is chopped`)
    await time(2000)
    console.log(`Cream is added`)
    await time(1000)
    console.log(`${stock.Liquid[0]} is added`)
    await time(1000)
    console.log(`Everything mixed properly`)
    await time(1000)
    console.log(`Ice cream is put in ${stock.Holder[1]}`)
    await time(1000)
    console.log(`For topping ${stock.Toppings[1]} is added`)
    await time(1000)
    console.log("The icecream is ready to serve to lord!!")
    }
    
    catch(error){
        console.log("We can't provide you icecream",error);
    }
    finally{
        console.log("Day ended, shop is closed")
    }
}
kitchen()


    </script>
</body>
</html>